const quizData = [
    {
        question: "Which of the following is the combination of terms or phrases to be inserted into blanks A through C in the description below concerning a method for representing information?",
        image: "img/Q(1).png",
        options: ["a)", "b)", "c)", "d)"],
        answer: "b)"
    },
    {
        question: "Japanese restaurants in Sapporo and Japanese restaurants in Hakodate are to be searched for together. Which of the following is the logical expression that represents the search condition?",
        options: ["a) (“Sapporo” AND “Hakodate”) AND “Japanese restaurant”", "b) (“Sapporo” AND “Hakodate”) OR “Japanese restaurant”", "c) (“Sapporo” OR “Hakodate”) AND “Japanese restaurant”", "d) (“Sapporo” OR “Hakodate”) OR “Japanese restaurant”"],
        answer: "c) (“Sapporo” OR “Hakodate”) AND “Japanese restaurant”"
    },
    {
        question: "Which of the following is a standard encoding system that is widely used for handling multilingual text and symbols around the world as a single character set?",
        image: "img/Q(3).png",
        options: ["a)12", "b) 20", "c) 24", "d) 30"],
        answer: "c) 24"
    },
    {
        question: "",
        image: "img/Q(4).png",
        options: ["a) 6", "b) 9", "c) 12", "d) 20"],
        answer: "b) 9"
    },
    {
        question: "Which of the following is an appropriate description concerning machine language?",
        options: ["a) A program that is written in Fortran or C is converted into machine language and then executed.",
            "b) Machine language is a high-level language.",
            "c) Machine language expresses a program with sequences of decimal numbers.",
            "d) Most of application software is still programmed in machine language."],
        answer: "a) A program that is written in Fortran or C is converted into machine language and then executed.",
    },
    {
        question: "",
        image: "img/Q(6).png",
        options: ["a)", "b)", "c)", "d)"],
        answer: "d)"
    },
    {
        question: "In a markup language, with the purpose of displaying on a screen and printing, it is possible to directly embed not only the document content, but also the document structure and layout information, and the character font and size information. Which of the following is classified into such a markup language?",
        options: ["a) C", "b) HTML", "c) SQL", "d) URL"],
        answer: "b) HTML"
    },
    {
        question: "",
        image: "img/Q(8).png",
        options: ["a)", "b)", "c)", "d)"],
        answer: "b)"
    },
    {
        question: "On a desk that is only large enough to place four (4) files at the same time, six (6) files, Athrough F, are used to perform a task. When four (4) files are already placed on the desk, the least recently used file must be placed back into the drawer before the fifth file is placed on the desk. When the files are used in the sequence A, B, C, D, B, A, E, A, B, F, which of the following is the last file placed back into the drawer?",
        options: ["a) A", "b) B", "c) D", "d) E"],
        answer: "c) D"
    },
    {
        question: "When USB memory or other such external recordable media is connected to a PC, which of the following is an OS function that automatically executes programs or plays movies on the media and can also cause malware infection?",
        options: ["a) Autocorrect", "b) Autocomplete", "c) Auto filter", "d) Autorun"],
        answer: "d) Autorun"
    },
    {
        question: "Which of the following is an appropriate explanation of HDMI?Which of the following is the most appropriate description concerning deep learning?Which of the following is the most appropriate description concerning deep learning?",
        options: [
            "a) It is a method for studying according to proficiency level that uses textbooks published on the Internet and is not restricted by geographical location nor time",
            "b) A computer analyzes a large volume of data, finds patterns, and makes inferences or decisions by itself by using a neural network.",
            "c) An appropriate response is provided based on specialist knowledge in specific fields that are systematically categorized.",
            "d) The level of difficulty and the knowledge and skills required of each individual to solve problems are estimated according to his/her proficiency level and understanding"
        ],
        answer: "b) A computer analyzes a large volume of data, finds patterns, and makes inferences or decisions by itself by using a neural network."
    },
    {
        question: "Which of the following is an appropriate description concerning a device driver that enables the use of peripheral devices with a PC?",
        options: [
            "a) When a hard disk drive is initialized and the operating system is reinstalled, it is necessary to reinstall device drivers that were installed separately to the operating system.",
            "b) When new application software is installed, it is necessary to reinstall all device drivers that this software uses.",
            "c) Even if a device driver is no longer required, a user cannot delete the device driver once it is installed.",
            "d) It is only necessary to install one (1) device driver for a printer to use all printers regardless of manufacturer or model."],
        answer: "a) When a hard disk drive is initialized and the operating system is reinstalled, it is necessary to reinstall device drivers that were installed separately to the operating system."
    },
    {
        question: "Which of the following is a description about a technology that improves the processing performance of a computer and is also called turbo boost?",
        options: ["a) It is placed between the CPU and the main memory, and it remedies the slow performance of the main memory in reading and writing.",
            "b) It increases the operation frequency of the cores when the heat that the CPU generates and the power that the CPU consumes have certain margins against their limits.",
            "c) It provides multiple sections that serve as cores for performing calculations within the CPU, and it executes several processes simultaneously.",
            "d) It shares the CPUs of multiple computers, and executes a large amount of processes in a distributed manner"],
        answer: "b) It increases the operation frequency of the cores when the heat that the CPU generates and the power that the CPU consumes have certain margins against their limits."
    },
    {
        question: "Two (2) HDDs are connected to a server for storing data. When at least one (1) of the HDDs is working, stored data needs to be available. Which of the following is an appropriate configuration that should be used for the HDDs?",
        options: [
            "a) Striping",
            "b) Data mining",
            "c) Tethering",
            "d) Mirroring"],
        answer: "d) Mirroring"
    },
    {
        question: "Which of the following is an appropriate explanation of parallel processing?",
        options: ["a) It is the division of a series of processing into processing units that can be executed simultaneously, and the execution of these on multiple CPUs.",
            "b) It is the execution of multiple related processes that are grouped together as a single process",
            "c) It is the performing of business logic and database processes on the server side, and the performing of user interface processes on the client side.",
            "d) It is the division of processing time for a single CPU into short units, and the sequential allocation of these to multiple applications for execution"],
        answer: "a) It is the division of a series of processing into processing units that can be executed simultaneously, and the execution of these on multiple CPUs."
    },
    {
        question: "",
        options: ["a) (1), (3)", "b) (1), (4)", "c) (2), (3)", "d) (2), (4)"],
        image: "img/Q(16).png",
        answer: "b) (1), (4) "
    },
    {
        question: "",
        image: "img/Q(17).png",
        options: ["a)", "b)", "c)", "d)"],
        answer: "c)"
    },
    {
        question: "",
        options: [
            "a) A",
            "b) A, C",
            "c) B",
            "d) C"
        ],
        image: "img/Q(18).png",
        answer: "a) A "
    },
    {
        question: "",
        options: [
            "a)",
            "b)",
            "c)",
            "d)"],
        image: "img/Q(19).png",
        answer: "c)"
    },
    {
        question: "",
        image: "img/Q(20).png",
        options: [
            "a) 525",
            "b) 550",
            "c) 630",
            "d) 660"],
        answer: "c) 630"
    },
    {
        question: "Which of the following is a web browser that is Open Source Software (OSS)?",
        options: [
            "a) Apache",
            "b) Firefox",
            "c) Linux",
            "d) Thunderbird"],
        answer: "b) Firefox"
    },
    {
        question: "Which of the following is an OS function that executes multiple application programs concurrently on a single PC, such as when a file is downloaded from a website while data is processed with spreadsheet software?",
        options: ["a) Virtual reality", "b) Dual core", "c) Dual system", "d) Multitasking"],
        answer: "d) Multitasking"
    },
    {
        question: "Which of the following is an explanation of the printing method of an inkjet printer?",
        options: [
            "a) Printing is performed by directly spraying fine ink particles onto the paper.",
            "b) Printing is performed by using printing pins or other such component to hit an ink ribbon against the paper",
            "c) Printing is performed by using the print head to heat ink that melts when it is heated",
            "d) Printing is performed by using laser light to make toner adhere to a photosensitive body"],
        answer: "a) Printing is performed by directly spraying fine ink particles onto the paper."
    },
    {
        question: "Which of the following is the copyright protection technology that is used for a DVD-R and an SD card, and allows digital content to be duplicated to recording media only once?",
        options: [
            "a) AR",
            "b) CPRM",
            "c) HDMI",
            "d) MIDI"
        ],
        answer: "b) CPRM"
    },
    {
        question: "Which of the following is the unit that represents the resolution when a photograph or a picture is read by a scanner?",
        options: ["a) dpi", "b) fps", "c) pixel", "d) ppm"],
        answer: "a) dpi "
    },
    {
        question: "",
        image: "img/Q(26).png",
        options: ["a) Product A, Product B, Product C", "b) Product A, Product B, Product C, Product D", "c) Product B, Product C", "d) Product C"],
        answer: "c) Product B, Product C"
    },
    {
        question: "Which of the following is a language used for the operation of a relational database?",
        options: ["a) FAQ", "b) SQL", "c) SSL", "d) UML"],
        answer: "b) SQL"
    },
    {
        question: "Which of the following is an appropriate description concerning foreign keys in a relational database?",
        options: ["a) A property held by the foreign key is called a unique constraint.",
            "b) Duplicate values cannot be set in the fields that are set as foreign keys.",
            "c) Multiple foreign keys can be defined in a single table.",
            "d) Multiple fields cannot be collectively set as a single foreign key"],
        answer: "c) Multiple foreign keys can be defined in a single table."
    },
    {
        question: "When designing a database, which of the following is used for the purpose of organizing and representing the relation of data?",
        options: [
            "a) E-R diagram",
            "b) Arrow diagram",
            "c) Gantt chart",
            "d) Flowchart"
        ],
        answer: "a) E-R diagram"
    },
    {
        question: "When an e-mail is sent to multiple recipients, there are cases that no recipient of the e-mail should know the e-mail addresses of other recipients. In such cases, which of the following is an appropriate place where the e-mail addresses of the multiple recipients are entered?",
        options: ["a)", "b)", "c)", "d)"],
        image: "img/Q(30).png",
        answer: "b)"
    },
    {
        question: "When another network such as the Internet is accessed from a network in an office or a household, which of the following fulfills the role of an entrance or an exit to the other network?",
        options: [
            "a) Splitter",
            "b) Default gateway",
            "c) Hub",
            "d) Repeater"
        ],
        answer: "b) Default gateway."
    },
    {
        question: "Which of the following is an appropriate description concerning encryption of communication when a website with the URL beginning with “https://” is browsed through a PC browser?",
        options: ["a) Only the communication from the PC to the web server is encrypted.",
            "b) Only the communication from the web server to the PC is encrypted.",
            "c) The bi-directional communication between the web server and PC is encrypted.",
            "d) The direction in which communication will be encrypted depends on the settings of the web server."],
        answer: "c) The bi-directional communication between the web server and PC is encrypted."
    },
    {
        question: "When transmitted over the Internet, data is divided into blocks, each of which is transmitted with a header that specifies the destination, the block number, and an error detecting code. Which of the following is the term for such blocks of data?",
        options: ["a) Domain",
            "b) Packet",
            "c) Port",
            "d) Router"],
        answer: "b) Packet"
    },
    {
        question: "A DHCP server has been installed in a LAN. When a PC that automatically acquires information from the DHCP server is to be connected to the LAN, which of the following will be set in the PC?",
        options: ["a) IP address", "b) Latest virus definition file ", "c) Address list of spam mail", "d) Mail addresses assigned by the Internet service provider"],
        answer: "a) IP address"
    },
    {
        question: "Which of the following is the appropriate example of biometric authentication?",
        options: [
            "a) Displaying an image of characters that are difficult for a machine to read on a monitor, and having a person read the characters and enter them",
            "b) Having a person enter a password via a software keyboard that is displayed on a touch panel",
            "c) Reading the trail, pressure, and other characteristics of the action when a touch pen is used for a signature",
            "d) Having a person answer a question that only the person knows the answer to"],
        answer: "c) Reading the trail, pressure, and other characteristics of the action when a touch pen is used for a signature"
    },
    {
        question: "When a document file attached to a received e-mail is opened on a PC, the PC begins to behave abnormally. Which of the following is an appropriate suspected attack?",
        options: [
            "a) SQL injection",
            "b) Cross-site scripting",
            "c) Shoulder hacking",
            "d) Macro virus"
        ],
        answer: "d) Macro virus"
    },
    {
        question: "Which of the following is the activity in A (Act) phase in the PDCA model adopted in an organization that operates an ISMS?",
        options: [
            "a) Deciding to make improvements concerning matters such as flaws that are revealed through the monitoring of operational status and the measurement and evaluation of operational results",
            "b) Monitoring operational status, and measuring and evaluating operational results",
            "c) Creating a security policy, establishing an organizational structure, and creating a procedure for achieving the targets that are defined in the security policy",
            "d) Communicating the security policy to employees, installing security equipment and other security measures, and operating them"],
        answer: "a) Deciding to make improvements concerning matters such as flaws that are revealed through the monitoring of operational status and the measurement and evaluation of operational results"
    },
    {
        question: "Which of the following is an example of an aim of an attacker who infects someone else’s PC with ransomware?",
        options: ["a) To obtain personal information on the PC via a network",
            "b) To make files on the PC unusable, and to obtain money in exchange from unlocking them ",
            "c) To obtain characters typed with the PC keyboard via a network/ ",
            "d) To operate the PC without the user’s permission by sending instructions for operations via a network"],
        answer: "b) To make files on the PC unusable, and to obtain money in exchange from unlocking them "
    },
    {
        question: "A private key and a public key were generated as a key pair and a digital certificate for the public key was issued. Which of the following is an appropriate action that should be taken when the private key is leaked?",
        options: ["a) Reissuing the digital certificate with the same key pair",
            "b) Requesting to the certification authority for revocation of the digital certificate",
            "c) Creating a new key pair for reissuing a certificate due to the expiration of the validity period",
            "d) Continuing using the same digital certificate, because only the private key was leaked"],
        answer: "b) Requesting to the certification authority for revocation of the digital certificate "
    },
    {
        question: "Which of the following sets conditions for character type, length, etc. used for passwords that are set for accounts on a computer, etc.?",
        options: ["a) Single sign-on", "b) Password crack", "c) Password policy", "d) One-time password"],
        answer: "c) Password policy"
    },
    {
        question: "",
        options: [
            "a) Confidentiality",
            "b) Confidentiality, integrity",
            "c) Integrity, availability",
            "d) Availability"
        ],
        image: "img/Q(41).png",
        answer: "c) Integrity, availability"
    },
    {
        question: "A problem has been pointed out that the WEP encryption for wireless LANs can be broken easily. Which of the following is an encryption method that does not have the same weakness and is cryptographically stronger?",
        options: [
            "a) ESSID",
            "b) S/MIME",
            "c) SSL",
            "d) WPA2"],
        answer: "d) WPA2"
    },
    {
        question: "Company A implements risk analysis for its own information assets. The results show that if a nearby river overflows, the server room on the first floor of the company might be flooded. The company considers the possibility of moving the server room, but decides there is almost no risk of a flood because the last time the river overflowed was 100 years ago, and the management decides that no particular countermeasures are taken. Which of the following is the risk treatment for information security that Company Aselects?",
        options: [
            "a) Risk transfer",
            "b) Risk avoidance",
            "c) Risk acceptance",
            "d) Risk mitigation"
        ],
        answer: "c) Risk acceptance"
    },
    {
        question: "",
        image: "img/Q(44).png",
        options: ["a)", "b)", "c)", "d)"],
        answer: "c)"
    },
    {
        question: "Among the Web browsing practices (1) through (3) below, which of the following is the list that contains all and only the practices that reduce security risks?",
        options: ["a) (1), (2)", "b) (1), (3)", "c) (2)", "d) (2), (3)"],
        image: "img/Q(45).png",
        answer: "c) (2)"
    },
    {
        question: "",
        options: ["a)", "b)", "c)", "d)"],
        image: "img/Q(46).png",
        answer: "d)"
    },
    {
        question: "Which of the following corresponds to software maintenance?",
        options: ["a) A response time that was measured in a system test did not satisfy the requirement, so tuning was performed on the software.",
            "b) As a result of a software acceptance test, a defect was found, so the orderer requested the developer to fix the software.",
            "c) A function was found missing in a unit test of a program, so the function was added to the program.",
            "d) A defect was reported on software that is running on a production system, so the software was modified."],
        answer: "d) A defect was reported on software that is running on a production system, so the software was modified."
    },
    {
        question: "Which of the following is an appropriate test for a user to confirm by himself/herself whether the delivered software satisfies the requirements?",
        options: ["a) Acceptance test", "b) Integration test", "c) System test", "d) Unit test"],
        answer: "a) Acceptance test"
    },
    {
        question: "A system migration plan was created for the migration from an existing system to a new system. Which of the following is an appropriate item to be described in the system migration plan?",
        options: ["a) System selection policy",
            "b) Schedule for parallel operation of the existing and new systems",
            "c) Evaluation criteria for the quality of the deliverables",
            "d) The work history of project members"],
        answer: "b) Schedule for parallel operation of the existing and new systems"
    },
    {
        question: "Which of the following is the appropriate explanation of refactoring?",
        options: ["a) Improving internal architecture without changing the functions that software provides",
            "b) Discovering the specifications of software by analysis of its operations, etc.",
            "c) Correcting a defect in software so that it performs according to the specifications2",
            "d) Modifying software to add a new function on the basis of user requests, etc."],
        answer: "a) Improving internal architecture without changing the functions that software provides"
    },
    {
        question: "",
        options: ["a)",
            "b)",
            "c)",
            "d)"],
        image: "img/Q(51).png",
        answer: "d)"
    },
    {
        question: "For software development work, a plan is created to complete it with 10 people in a period of 15 days. However, it became known that only eight (8) members of staff could be obtained for the first five (5) days. In order to complete the work in 15 days as planned, how many staff members are required from the 6-th day? Here, the productivity of each member of staff is the same.",
        options: [
            "a) 10",
            "b) 11",
            "c) 12",
            "d) 14"],
        answer: "b) 11"
    },
    {
        question: "Which of the following is the most appropriate description concerning risk management in a project?",
        options: [
            "a) Since a project has a predetermined deadline, all risks must be identified at the start of the project.",
            "b) Since the realization of a risk has a negative impact to a project, risk measures are planned to avoid all risks.",
            "c) In order to plan risk measures, risks are prioritized on the basis of the likelihood of occurrence of an event and its consequences.",
            "d) In order to cut down the cost involved in taking action against a risk, risk measures are planned whenever a risk is realized."],
        answer: "c) In order to plan risk measures, risks are prioritized on the basis of the likelihood of occurrence of an event and its consequences."
    },
    {
        question: "A company orders information system development to an overseas software developer under a contract for software development. Which of the following is an appropriate activity to be performed by the company in project procurement management?",
        options: ["a) When a defect is found after the acceptance of delivery, even if not indicated in the contract, the company asks the developer to examine not only the defect but similar defects and fix them.",
            "b) In order to make good use of the capabilities of the developer, the company does not include the provisions of intellectual property rights in the contract.",
            "c) After the start of development, the company has the procurement detail such as the development scope, specifications, and work contents, etc. agreed upon by the developer in writing.",
            "d) At the time of signing the contract, the company agrees upon in writing with the developer the documents to be delivered and the rules for changing specifications during development"],
        answer: "d) At the time of signing the contract, the company agrees upon in writing with the developer the documents to be delivered and the rules for changing specifications during development"
    },
    {
        question: "Which of the following is a method to break down the required activities into a hierarchical structure in software development?",
        options: [
            "a) CMM",
            "b) ITIL",
            "c) PERT",
            "d) WBS"
        ],
        answer: "d) WBS"
    },
    {
        question: "Quality management in system development projects has a quality planning process to define quality requirements and quality standards for deliverables and to specify the methods for achieving them. Which of the following is an appropriate description concerning the quality planning process?",
        options: [
            "a) If deliverables are not exactly the same as those of past system development projects, past quality standards cannot be used as reference",
            "b) Since schedules have the highest priority in all projects, it is acceptable to shorten the period for reviewing and testing for achieving target quality.",
            "c) Quality should have the highest priory in all projects, and, to enhance the quality of deliverables, constraints should not be placed on the budget.",
            "d) The effects such as reductions in reworking, improvement in productivity, improvement of stakeholder satisfaction brought about by achieving targeted quality, and the required costs are to be compared."],
        answer: "d) The effects such as reductions in reworking, improvement in productivity, improvement of stakeholder satisfaction brought about by achieving targeted quality, and the required costs are to be compared."
    },
    {
        question: "In a project, a contingency reserve is the cost that is included in the initial project scope and is prepared for events that are predictable but uncertain. Among the costs that are allocated by the project manager of a company that receives an order for a system development, which of the following is an appropriate cost that can be classified as a contingency reserve?",
        options: [
            "a) The cost that is necessary for the replacement of a device when the device happens to fail under the development environment",
            "b) The cost that is necessary for the activities of the project leader who manages the development progress",
            "c) The cost that is necessary for fulfilling the new requirements of users that are outside the scope of the project",
            "d) The cost that is necessary for purchasing the quality management tools of a system that are planned to be adopted in the project"],
        answer: "a) The cost that is necessary for the replacement of a device when the device happens to fail under the development environment "
    },
    {
        question: "In a service desk that acts as the point of contact for users, a tool that uses automated response technology is used in addition to telephone and e-mail. Which of the following is the most appropriate example of such a tool?",
        options: ["a) FAQ",
            "b) RPA",
            "c) Escalation",
            "d) Chatbot"],
        answer: "d) Chatbot"
    },
    {
        question: "Which of the following is an appropriate requirement for the availability of an e-mail service in IT service management?",
        options: ["a) Allowing the e-mail service to be used with only a web browser",
            "b) Allowing the e-mail service to be used anytime except for defined maintenance hours",
            "c) Preventing e-mails addressed to a user from being read by another user without permission",
            "d) Preventing sent e-mails from being falsified"],
        answer: "b) Allowing the e-mail service to be used anytime except for defined maintenance hours"
    },
    {
        question: "Which of the following is an appropriate purpose of providing FAQ to users in IT service management??",
        options: [
            "a) Providing a framework of IT service management",
            "b) Defining a target value for the service level on the sides of both service provider and users",
            "c) Establishing a single point of contact for users to make all kinds of queries concerning the service",
            "d) Supporting users so that they can solve problems by themselves"],
        answer: "d) Supporting users so that they can solve problems by themselvess"
    },
    {
        question: "",
        options: ["a)", "b)", "c)", "d)"],
        image: "img/Q(61).png",
        answer: "b)"
    },
    {
        question: "Which of the following is an appropriate example of criteria for evaluating the service level of a service desk that receives queries from system users over the telephone?",
        options: [
            "a) Cost of the service",
            "b) Number of system failures",
            "c) Availability of the system",
            "d) Response time for queries"
        ],
        answer: "d) Response time for queries"
    },
    {
        question: "Which of the following is an appropriate explanation of monitoring in internal control?",
        options: [
            "a) It is a process of continuously evaluating if internal control is working effectively.",
            "b) It is a process of promoting compliance to the laws and other regulations concerning internal control",
            "c) It is a process of establishing an organization for internal control",
            "d) It is a process of analyzing the risks that hinder internal control."
        ],
        answer: "a) It is a process of continuously evaluating if internal control is working effectively."
    },
    {
        question: "Which of the following is an appropriate measure to enable internal controls?",
        options: [
            "a) Preventing creation of a job description indicating the scope of work and roles",
            "b) Preventing creation of a work handover document for a successor",
            "c) Preventing processing of purchasing and payment by the same person",
            "d) Preventing separation of team members for system development and system operation"
        ],
        answer: "c) Preventing processing of purchasing and payment by the same person"
    },
    {
        question: "Which of the following is an appropriate description of the roles of a system auditor?",
        options: [
            "a) Preparing a workflow, work description, and risk control matrix that reflect the flow and business operations, evaluating the risks, and installing an appropriate system",
            "b) Installing a mechanism for appropriate monitoring and self-inspection in each process of planning, development, operation, and maintenance of the information system, and taking actions to operate the information system smoothly",
            "c) Verifying whether or not the risks of the information system are controlled appropriately and effectively from a standpoint that is independent of the department being audited, and reporting the result to the client",
            "d) Specifying the policies and objectives, and establishing a management system so that the risks of the information system are controlled appropriately"
        ],
        answer: "c) Verifying whether or not the risks of the information system are controlled appropriately and effectively from a standpoint that is independent of the department being audited, and reporting the result to the client"
    },
    {
        question: "Company A is a large company with multiple offices nationwide, and it created BCP that envisaged the total destruction of the head office building in a large natural disaster. In consideration of the purpose of the BCP, which of the following is Company A’s most appropriate BCP?",
        options: [
            "a) In order to prevent damage by a fire that occurs after a disaster, replacing curtains and other such things with flame-resistant products and planning regular checks of fire prevention equipment",
            "b) In order to swiftly respond to instructions from the head office when a disaster occurs, establishing a procedure to completely halting work at all offices and have all employees standby until an instruction is received from the head office",
            "c) In order to continue business after a natural disaster, specifying an office to take over the functions of the head office, narrowing down the important work that needs to be dealt with, and establishing an implementation procedure for this work",
            "d) Incorporating insurance premiums for the head office building into the annual budget, and preparing for a relocation to a building with the same scale as the current head office"
        ],
        answer: "c) In order to continue business after a natural disaster, specifying an office to take over the functions of the head office, narrowing down the important work that needs to be dealt with, and establishing an implementation procedure for this work"
    },
    {
        question: "Which of the following is an explanation of a balance sheet?",
        options: [
            "a) It displays the status of cash flow in a fixed period of time by activity category.",
            "b) It displays the management performance of a company by the income and cost generated in a fixed period of time",
            "c) It displays the previous term-end balance, changes during the year, and the current term-end balance for each item of net assets of a company.",
            "d) It displays the financial condition of a company on the date of settlement on the basis of the categories of assets, liabilities, and net assets."
        ],
        answer: "d) It displays the financial condition of a company on the date of settlement on the basis of the categories of assets, liabilities, and net assets."
    },
    {
        question: "",
        option: [
            "a) 200,000",
            "b) 204,000",
            "c) 260,000",
            "d) 320,000"
        ],
        image: "img/Q(68).png",
        answer: "b) 204,000"
    },
    {
        question: "Among the phases of the PDCA cycle in corporate business operations, which of the following measures and evaluates the status of operations on the basis of KPI?",
        
        options: [
            "a) P",
            "b) D",
            "c) C",
            "d) A"
        ],
        answer: "c) C"
    },
    {
        question: "Data of the defects and faults of products, complaints from customers, etc. are categorized according to their cause and situation. Which of the following represents the number of data in each category in descending order on a bar graph and the cumulative total on a line graph?",
        
        options: [
            "a) Control chart",
            "b) Tree diagram",
            "c) Pareto chart",
            "d) Matrix chart"
        ],
        answer: "c) Pareto chart"
    },
    {
        question: "",
        options: [
            "a) 1,280",
            "b) 1,300",
            "c) 1,400",
            "d) 1,500"
        ],
        image: "img/Q(71).png",
        answer: "c) 1,400"
    },
    {
        question: "",
        options: [
            "a) 110",
            "b) 130",
            "c) 140",
            "d) 150"
        ],
        image: "img/Q(72).png",
        answer: "b) 130"
    },
    {
        question: "Which of the following is the most appropriate description of NDA?",
        options: [
            "a) It is a specialized organization that monitors and analyzes threats to the information systems in a company, etc.",
            "b) It is a contract that makes the contracting parties agree to hold and maintain in confidence the confidential information of the other party.",
            "c) It is an agreement of an objective quality standard that is concluded between a service provider and the user concerning the service provided",
            "d) It is a hierarchical decomposition of the tasks to be implemented in a project."
        ],
        answer: "b) It is a contract that makes the contracting parties agree to hold and maintain in confidence the confidential information of the other party."
    },
    {
        question: "Which of the following is a code that stores information in a vertical and horizontal two-dimensional pattern?",
        options: [
            "a) ASCII code",
            "b) G-code",
            "c) EAN code",
            "d) QR code"
        ],
        answer: "d) QR code"
    },
    {
        question: "",
        options: [
            "a) A",
            "b) A, B, C",
            "c) A, C",
            "d) A, C, D"
        ],
        image: "img/Q(75).png",
        answer: "c) A, C"
    },
    {
        question: "",
        options: [
            "a) A, B",
            "b) A, B, C",
            "c) A, C",
            "d) B, C"
        ],
        image: "img/Q(76).png",
        answer: "d) B, C"
    },
    {
        question: "Which of the following is appropriate as an expected advantage of the adoption of ISO 9001 by companies?",
        options: [
            "a) The companies’ trade procedures will be standardized, leading to increased efficiency and the avoidance of non-tariff barriers.",
            "b) Technical specifications will be standardized in the industry, and increase in product quality and expansion of markets will move forward.",
            "c) Methods for handling information assets will be standardized and the quality of information security will increase.",
            "d) Business operations concerning quality management will be standardized, and the quality and efficiency of management will increase."
        ],
        answer: "d) Business operations concerning quality management will be standardized, and the quality and efficiency of management will increase."
    },
    {
        question: "Which of the following is an organization in the USA that promotes standardization activities concerning Ethernet LAN and wireless LAN, etc.?",
        options: [
            "a) ICANN",
            "b) IEEE",
            "c) ISO",
            "d) W3C"
        ],
        answer: "b) IEEE"
    },
    {
        question: "Which of the following is the most appropriate marketing strategy for narrowing down the customer base to focus on by classifying customers on the basis of age, gender, family structure, and the like, and analyzing the purchasing behaviors of each group?",
        options: [
            "a) Service marketing",
            "b) Segment marketing",
            "c) Social marketing",
            "d) Mass marketing"
        ],
        answer: "b) Segment marketing"
    },
    {
        question: "There are two (2) indicators for evaluating the achievement of strategic goals. These are leading indicators that evaluate the means for achieving the goals, and result indicators that evaluate the degree of goal achievement. If a strategic goal is “acquire new customers,” which of the following is an appropriate leading indicator?",
        options: [
            "a) Sales increase amount",
            "b) New contract acquisition ratio",
            "c) Total customer increase ratio",
            "d) Number of visits to prospective customers"
        ],
        answer: "d) Number of visits to prospective customers"
    },
    {
        question: "Which of the following is the most appropriate explanation of user experience (UX)?",
        options: [
            "a) The design of a software product with consideration that it is easy to use for as many people as possible, including mainly elderly people and disabled people",
            "b) A method of identifying customers on the basis of analysis of customer data, and deepening relationships with customers by using channels such as call centers and the Internet",
            "c) A software product’s capability that enables efficient use by a user under specified conditions",
            "d) People’s feelings and responses that are gained through the use of a product, system, or service"
        ],
        answer: "d) People’s feelings and responses that are gained through the use of a product, system, or service"
    },
    {
        question: "Which of the following is a system that centrally manages the process from materials procurement to product sales, and aims for the optimization of supply?",
        options: [
            "a) ASP",
            "b) CRM",
            "c) ERP",
            "d) SCM"
        ],
        answer: "d) SCM"
    },
    {
        question: "",
        options: [
            "a) 6",
            "b) 7",
            "c) 8",
            "d) 9"
        ],
        image: "img/Q(83).png",
        answer: "c) 8"
    },
    {
        question: "Which of the following is the most appropriate as the underlying concept of CRM?",
        options: [
            "a) The source of profit is an early entry into a market with little competition.",
            "b) The source of profit is a good relationship with the customer.",
            "c) The source of profit is a shorter product life cycle.",
            "d) The source of profit is a large share in a specific market."
        ],
        answer: "b) The source of profit is a good relationship with the customer."
    },
    {
        question: "Which of the following is a technique that increases the potential for success in the development of a new business model or product, by creating the minimum service or product on the basis of a hypothesis, and performing repeated verification of customer value in a short interval of times?",
        options: [
            "a) Cannibalization",
            "b) Business operations modeling",
            "c) Digital transformation",
            "d) Lean startup"
        ],
        answer: "d) Lean startup"
    },
    {
        question: "In call handling at a call center, which of the following is the most appropriate example of the use of AI to implement a more effective FAQ system?",
        options: [
            "a) As part of the training for operators, examples of questions and answers that use the existing FAQ are taught on a web screen.",
            "b) According to the numbers that are entered according to the guidance, a call is assigned to an operator with responsibility for the relevant FAQ item.",
            "c) From the caller’s telephone number of a received call, customer information and a record of the content and response of past inquiries are retrieved from a customer information database and displayed on the operator’s screen.",
            "d) In call handling, emotion and intent are determined from the audio of a question in order to increase the certainty of selection of the optimum candidate response from the FAQ."
        ],
        answer: "d) In call handling, emotion and intent are determined from the audio of a question in order to increase the certainty of selection of the optimum candidate response from the FAQ."
    },
    {
        question: "Which of the following is a business objective that becomes possible to achieve with “the introduction of a POS system”?",
        options: [
            "a) Improvement in the work productivity of salespersons and organizational strength of the sales department",
            "b) Reduction in inventory volume of component parts and partly finished goods",
            "c) Optimization of the series of processes from procurement to manufacturing, shipment, and sales",
            "d) Improvement in the selection of goods at each store and streamlining of ordering and inventory control"
        ],
        answer: "d) Improvement in the selection of goods at each store and streamlining of ordering and inventory control"
    },
    {
        question: "Which of the following is an appropriate explanation of CAD, as used in the manufacturing industry?",
        options: [
            "a) It calculates the required quantity of materials for a product manufacturing plan and orders materials.",
            "b) It manages information about the components, semi-finished products, quantities, etc. required for the manufacture of products.",
            "c) It performs unified management of information such as product blueprints and component tables, from design to manufacturing.",
            "d) It uses computers in product design to improve the productivity and reliability of design specifications."
        ],
        answer: "d) It uses computers in product design to improve the productivity and reliability of design specifications."
    },
    {
        question: "Which of the following is an appropriate case example that corresponds to traceability?",
        options: [
            "a) Taking advantage of the Internet and web technology for the use of computers in education",
            "b) Outsourcing all software development to an external specialized company without placing any development department within one’s own company",
            "c) Sharing knowledge and information among employees across the entire organization, and utilizing it effectively to improve business performance",
            "d) Being able to check the history from production up to sales on the basis of the labels pasted on meat and fish products"
        ],
        answer: "d) Being able to check the history from production up to sales on the basis of the labels pasted on meat and fish products"
    },
    {
        question: "Which of the following is classified as a “B to E” transaction?",
        options: [
            "a) A company provides services, such as welfare and education for the company’s own employees, through the Internet.",
            "b) A travel company uses the Internet to give campaign information and sell tickets to consumers in advance.",
            "c) An automobile manufacturer uses the Internet to procure components and materials from vendors across the world.",
            "d) In an auction held on the Internet, a participant buys a product from another participant."
        ],
        answer: "a) A company provides services, such as welfare and education for the company’s own employees, through the Internet."
    },
    {
        question: "A single unit of Product A is composed of three (3) pieces of Part B and two (2) pieces of Part C. In the production plan for a particular period, when the demand for Product A is 10, which of the following is the net requirement of Part B? Here, the quantity in stock is five (5) for Part B, and there are no other pieces in stock, in process, on back order, or already allocated. The net requirement is calculated by subtracting the stock available for allocation from the gross requirement.",
        options: [
            "a) 20",
            "b) 25",
            "c) 30",
            "d) 45"
        ],
        answer: "b) 25"
    },
    {
        question: "",
        options: [
            "a)",
            "b)",
            "c)",
            "d)"
        ],
        image: "img/Q(92).png ",
        answer: "c)"
    },
    {
        question: "Which of the following is the most appropriate utilization of RPA for a company?",
        options: [
            "a) The adoption of an important strategy by management, such as an M&A",
            "b) The provision of a service that matches personal tastes",
            "c) The identification of patterns in large volumes of behavioral data concerning potential customers",
            "d) The streamlining of routine administrative work"
        ],
        answer: "d) The streamlining of routine administrative work"
    },
    {
        question: "Which of the following is the most appropriate description concerning the analysis of big data?",
        options: [
            "a) In order to forecast unknown circumstances, analysis that uses machine learning in addition to statistical analysis is also effective",
            "b) Non-textual data in the form of video, images, and audio data cannot be in the scope of analysis.",
            "c) Only information that spreads by humans, such as comments on an electronic bulletin board, social media messages, and website search history, is used in the analysis of human actions.",
            "d) Data that is not intended to be analyzed, such as a blog entry, is out of the scope regardless of the purpose of analysis."
        ],
        answer: "a) In order to forecast unknown circumstances, analysis that uses machine learning in addition to statistical analysis is also effective."
    },
    {
        question: "Which of the following analysis techniques used in Enterprise Architecture (EA) clarifies the issues by comparing the ideal situation with the current situation?",
        options: [
            "a) Gap analysis",
            "b) Core competence analysis",
            "c) Value chain analysis",
            "d) Pareto analysis"
        ],
        answer: "a) Gap analysis"
    },
    {
        question: "Which of the following is “cloud computing”?",
        options: [
            "a) One of the Internet communication protocols",
            "b) One of the service models for providing computer resources",
            "c) One of the software development methods for flexibly supporting changes in the specification",
            "d) One of the electronic data exchange standards for electronic commercial transactionsS"
        ],
        answer: "b) One of the service models for providing computer resources"
    },
    {
        question: "Which of the following is the most appropriate description of the Fourth Industrial Revolution?",
        options: [
            "a) The Internet and AI are utilized in a wide range of fields in daily life, such as medical care, infrastructure, and traffic systems, and service automation and quality improvement are achieved.",
            "b) Production automation and labor cost reduction are achieved by the introduction to factories of industrial robots that utilize electronics.",
            "c) Mass production of industrial products is performed by the construction of production lines that use conveyor belts in factories.",
            "d) Productivity is increased compared to manual work by the use of steam energy as the driving force for machinery in light industry, such as sewing machines."
        ],
        answer: "a) The Internet and AI are utilized in a wide range of fields in daily life, such as medical care, infrastructure, and traffic systems, and service automation and quality improvement are achieved."
    },
    {
        question: "At power companies, the amount of electricity consumed by each household is measured remotely by communicating with electrical meters that are connected to the Internet, instead of measured by meter readings by a person. Which of the following is a term that represents the mechanism where a range of devices are connected to the Internet and utilize information in cases such as this?",
        options: [
            "a) EDI",
            "b) IoT",
            "c) ISP",
            "d) RFID"
        ],
        answer: "b) IoT"
    },
    {
        question: "Which of the following are international development targets that are composed of 17 objectives set by the United Nations in order to achieve a sustainable world?",
        options: [
            "a) COP28",
            "b) SDGs",
            "c) UNESCO",
            "d) WHO"
        ],
        answer: "b) SDGs"
    },
    {
        question: "A company planning the development of a business information system decided to present an RFP to SIers. Which of the following must be described in the RFP at a minimum?",
        options: [
            "a) The development schedule",
            "b) The functions that should be implemented in the business information system",
            "c) The method for achieving the business information system",
            "d) The project team"
        ],
        answer: "b) The functions that should be implemented in the business information system"
    },
    

];



const quizContainer = document.getElementById("quiz-container");
const paginationContainer = document.getElementById("pagination");
const prevButton = document.getElementById("prev-button");
const nextButton = document.getElementById("next-button");
const submitButton = document.getElementById("submit");
const click = document.getElementById("click");
const a_num = document.getElementById("aq-num");
const ua_num = document.getElementById("uq-num");
const pgiNextBtn = document.getElementById("pgi-nextBtn");
const pgiLeftBtn = document.getElementById("pgi-leftBtn");

let userSelections = {};

let score = 0;
const questionsPerPage = 6;
let currentPage = 0;
const maxVisiblePages = 8;
const totalPages = Math.ceil(quizData.length / questionsPerPage);


for (const i in quizData) {
    if (userSelections[i] === undefined) {
        userSelections[i] = null; // Initialize unanswered questions
    }
}

// Helper to get URL parameter
function getURLParameter(name) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
}

// Check if Random Quiz is enabled
const enableRandomQuiz = getURLParameter("enableRandomQuiz") === "1";

if (enableRandomQuiz) {
    // Fisher-Yates Shuffle 
    for (let i = quizData.length - 1; i > 0; i--) {
        const randomIndex = Math.floor(Math.random() * (i + 1)); // Generate a random index
        // Swap the elements at i and randomIndex
        [quizData[i], quizData[randomIndex]] = [quizData[randomIndex], quizData[i]];
    }
}

// Function to render questions for the current page
function renderQuestions(pageIndex) {
    quizContainer.innerHTML = ""; // Clear previous questions

    const start = pageIndex * questionsPerPage;
    const end = Math.min(start + questionsPerPage, quizData.length);
    const questionsToDisplay = quizData.slice(start, end);

    questionsToDisplay.forEach((q, index) => {
        const questionDiv = document.createElement("div");
        questionDiv.classList.add("question-block");
        questionDiv.classList.add("animate-on-scroll");
        questionDiv.id = `question-${start + index + 1}`; // Add unique id to each question div



        // Add question text
        const questionText = document.createElement("h3");
        questionText.innerHTML = `<strong>Q${start + index + 1}.</strong> ${q.question}`;
        questionDiv.appendChild(questionText);

        if (q.image) {
            const questionImage = document.createElement("img");
            questionImage.src = q.image;
            questionImage.alt = "Question image";
            questionImage.style.maxWidth = "100%"; // Style the image for better fit
            questionDiv.appendChild(questionImage);
        }

        // Add options
        q.options.forEach(option => {
            const label = document.createElement("label");
            label.className = "select-answer"
            label.style.display = "block";

            const input = document.createElement("input");
            input.type = "radio";
            input.name = `question${start + index}`;
            input.value = option;

            // Pre-select if user previously chose this option
            if (userSelections[start + index] === option) {
                input.checked = true;
            }

            input.addEventListener("change", () => {
                userSelections[start + index] = option; // Update user's selection
            });

            if (option.endsWith(".png") || option.endsWith(".jpg")) {
                const optionImage = document.createElement("img");
                optionImage.src = option;
                optionImage.alt = "Option image";
                optionImage.style.maxWidth = "70%";
                label.appendChild(input);
                label.appendChild(optionImage);
            } else {
                label.appendChild(input);
                label.append(option);
            }

            questionDiv.appendChild(label);
        });

        quizContainer.appendChild(questionDiv);
    });
}

// Function to render pagination links
function renderPagination() {
    paginationContainer.innerHTML = ""; // Clear previous pagination links

    const totalPages = Math.ceil(quizData.length / questionsPerPage);
    const startPage = Math.floor(currentPage / maxVisiblePages) * maxVisiblePages;
    const endPage = Math.min(startPage + maxVisiblePages, totalPages);

    for (let i = startPage; i < endPage; i++) {
        const pageLink = document.createElement("a");
        pageLink.innerText = i + 1;
        pageLink.href = "#";
        pageLink.classList.add("page-link");
        if (i === currentPage) pageLink.classList.add("active");

        if ((currentPage + 1) * questionsPerPage >= quizData.length) {
            submitButton.style.display = "block"; // Show submit button on the last page
        } else {
            submitButton.style.display = "block"; // Hide submit button otherwise
        }

        // Add click listener for pagination
        pageLink.onclick = (e) => {
            e.preventDefault(); // Prevent full reload
            currentPage = i;
            updatePaginationAndQuestions();
            // Scroll to the top of the page
            scrollToTop();
        };

        paginationContainer.appendChild(pageLink);
    }
    pgiLeftBtn.classList.toggle("disabled", startPage === 0);
    pgiNextBtn.classList.toggle("disabled", endPage >= totalPages);
}
// Event listeners for group navigation buttons
document.getElementById("pgi-nextBtn").onclick = (e) => {
    e.preventDefault();
    e.stopPropagation();
    const startPage = Math.floor(currentPage / maxVisiblePages) * maxVisiblePages;
    const endPage = Math.min(startPage + maxVisiblePages, totalPages);

    if (endPage < totalPages) {
        currentPage = endPage; // Move to the first page of the next group
        updatePaginationAndQuestions();
    }
};

document.getElementById("pgi-leftBtn").onclick = (e) => {
    e.preventDefault();
    e.stopPropagation(); // Prevent bubbling in case of other listeners
    const startPage = Math.floor(currentPage / maxVisiblePages) * maxVisiblePages;

    if (startPage > 0) {
        currentPage = startPage - maxVisiblePages; // Move to the first page of the previous group
        updatePaginationAndQuestions();
    }
    window.scrollTo({
        top: document.documentElement.scrollHeight, // Keep the current scroll position
        behavior: "instant", // No scrolling animation
    });
};
document.getElementById("pgi-nextBtn").onclick = (e) => {
    e.preventDefault();
    e.stopPropagation();

    const startPage = Math.floor(currentPage / maxVisiblePages) * maxVisiblePages;
    const endPage = Math.min(startPage + maxVisiblePages, totalPages);

    if (endPage < totalPages) {
        currentPage = endPage;
        updatePaginationAndQuestions();
    }

    window.scrollTo({
        top: document.documentElement.scrollHeight,
        behavior: "instant",
    });
};
// Function to scroll to the top of the page
function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: "smooth", // Smooth scrolling
    });
}

// Function to update questions and pagination state
function updatePaginationAndQuestions() {
    renderQuestions(currentPage);
    renderPagination();

    prevButton.classList.toggle("disabled", currentPage === 0);
    nextButton.classList.toggle(
        "disabled",
        currentPage === Math.ceil(quizData.length / questionsPerPage) - 1
    );
}


// Track the currently active question

click.onclick = (e) => {
    const ua_num = document.getElementById("uq-num");
    const a_num = document.getElementById("aq-num");
    let activeQuestionIndex = null; // Initialize active question index

    ua_num.innerHTML = ""; // Clear previous content
    a_num.innerHTML = ""; // Clear previous content

    for (const i in userSelections) {
        const questionNum = parseInt(i) + 1; // Question numbers are 1-based
        const unAnswered = userSelections[i] === null; // Check if unanswered
        const boxClass = unAnswered ? "unanswered" : "answered";
        const isActive = parseInt(i) === activeQuestionIndex; // Check if this question is active

        const boxHTML = `
            <a style="display:contents" onclick="setActiveState(${i})">
                <div class="border border-2 border-info rounded shadow d-flex align-items-center justify-content-center ${boxClass} question-link ${isActive ? "active" : ""
            }"
                    style="
                        flex: 1 1 calc(33.33% - 50px); 
                        aspect-ratio: 1 / 1; 
                        min-width: 40px; 
                        max-width: 60px; 
                        background-color: #f8f9fa;
                        font-size: 0.8rem;
                        text-align: center;
                        cursor: pointer;
                        transition: background-color 0.3s ease;
                    ">
                    <strong>Q${questionNum}</strong>
                </div>
            </a>`;

        if (unAnswered) {
            // Add to Unanswered questions
            ua_num.innerHTML += boxHTML;
        } else {
            // Add to Answered questions
            a_num.innerHTML += boxHTML;
        }
    }
};

// Function to handle setting the active state
function setActiveState(index) {
    activeQuestionIndex = parseInt(index); // Update the active index globally
    updateActiveState(); // Update the active state in the DOM
    navigateToQuestion(index); // Navigate to the clicked question
}

// Function to update the active state in the DOM
function updateActiveState() {
    // Get all question links in the sidebar
    const allQuestionElements = document.querySelectorAll("#uq-num a div, #aq-num a div");

    allQuestionElements.forEach((element) => {
        const questionNumber = parseInt(element.textContent.replace("Q", "")) - 1; // Extract question number from text

        // Update active state based on activeQuestionIndex
        if (questionNumber === activeQuestionIndex) {
            element.classList.add("active"); // Add active class
        } else {
            element.classList.remove("active"); // Remove active class
        }
    });
}

function navigateToQuestion(questionIndex) {
    const pageIndex = Math.floor(questionIndex / questionsPerPage); // Determine the page containing the question
    // If the target question is not on the current page, update the page
    if (pageIndex !== currentPage) {
        currentPage = pageIndex;
        updatePaginationAndQuestions(); // Render the correct page
    }

    // Delay to ensure the correct page is rendered before scrolling
    setTimeout(() => {
        const questionId = `question-${parseInt(questionIndex) + 1}`; // +1 because IDs start from 1
        const questionElement = document.getElementById(questionId);
        const navHeight = document.querySelector("nav").offsetHeight; // Get the navigation bar's height

        if (questionElement) {
            // Calculate the position to scroll to, adjusting for the nav height
            const questionPosition = questionElement.getBoundingClientRect().top + window.scrollY - navHeight;

            // Scroll to the adjusted position
            window.scrollTo({
                top: questionPosition,
                behavior: "smooth", // Smooth scrolling
            });
        }
    }, 100); // Adjust delay if necessary for rendering to complete
}

// Event listener for question links
document.querySelectorAll("#uq-num a, #aq-num a").forEach((link, index) => {
    link.addEventListener("click", (e) => {
        e.preventDefault();
        setActiveState(index);
    });
});


// Initial call to render the first page and pagination
updatePaginationAndQuestions();

// Previous button click
prevButton.onclick = (e) => {
    e.preventDefault();
    e.stopPropagation();
    if (currentPage > 0) {
        currentPage--;
        updatePaginationAndQuestions();
        scrollToTop();
    }
};

// Next button click
nextButton.onclick = (e) => {
    e.preventDefault();
    const totalPages = Math.ceil(quizData.length / questionsPerPage);
    if (currentPage < totalPages - 1) {
        currentPage++;
        updatePaginationAndQuestions();
        scrollToTop();
    }
};

// Submit button click
submitButton.onclick = () => {
    // Reset score
    let score = 0;
    let results = []; // Array to store detailed results

    // Calculate the score and collect results
    // Iterate through all questions in the quiz data
    quizData.forEach((questionData, questionIndex) => {
        const selectedOption = userSelections[questionIndex]; // Get the user's selected option
        const isAnswered = selectedOption !== undefined; // Check if the question was answered
        const isCorrect = isAnswered && questionData.answer === selectedOption; // Check if the answer is correct

        // Update score if the answer is correct
        if (isCorrect) {
            score++;
        }

        // Collect results for all questions
        results.push({
            questionNumber: questionIndex + 1,  // Add question number
            question: questionData.question,
            userAnswer: isAnswered ? selectedOption : "Unanswered",
            correctAnswer: questionData.answer,
            status: isAnswered ? (isCorrect ? "correct" : "incorrect") : "unanswered",
            image: questionData.image || null,
        });
    });

    //data to result.php
    const data = { score };
    // Send data to the server using fetch
    fetch('results.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data), // Convert data to JSON
    })
        .then(response => response.text()) // Handle the response as text
        .then(result => {
            console.log('Response from PHP:', result);
            //    alert(`Server response: ${result}`);
        })
        .catch(error => {
            console.error('Error:', error);
        });


    // Pass data to the results page
    const resultsPage = "results.php";

    // Save results in local storage
    localStorage.setItem("quizResults", JSON.stringify(results));

    // Pass only essential data in the query string
    const params = new URLSearchParams({
        totalScore: score,
        totalQuestions: quizData.length,
    });
    window.location.href = `${resultsPage}?${params.toString()}`;

};

// unanswered tooltips
document.addEventListener("DOMContentLoaded", () => {
    // Get the sidebar element and the tooltip trigger element
    const offcanvasElement = document.getElementById("offcanvasWithBothOptions");
    const tooltipTrigger = document.getElementById("click");

    // Initialize tooltip manually
    let tooltipInstance = new bootstrap.Tooltip(tooltipTrigger, {
        placement: 'bottom', // Tooltip placement
    });

    // Add event listener for when the sidebar is hidden
    offcanvasElement.addEventListener("hidden.bs.offcanvas", () => {
        // Dispose the tooltip completely to reset its state
        if (tooltipInstance) {
            tooltipInstance.dispose();
            tooltipInstance = null;
        }
    });

    // Reinitialize the tooltip when the element is hovered again
    tooltipTrigger.addEventListener('mouseenter', () => {
        // Reinitialize the tooltip if it's disposed
        if (!tooltipInstance) {
            tooltipInstance = new bootstrap.Tooltip(tooltipTrigger, {
                placement: 'bottom',
            });
        }
        // Show the tooltip immediately on hover
        tooltipInstance.show();
    });
});

// scroll bar disappear
document.addEventListener("DOMContentLoaded", () => {
    const offcanvasElement = document.getElementById("offcanvasWithBothOptions");


    // Handle the sidebar open and close for scrollbar control
    offcanvasElement.addEventListener("show.bs.offcanvas", () => {
        document.body.style.overflow = "hidden"; // Hide the scrollbar when sidebar is shown
    });

    offcanvasElement.addEventListener("hidden.bs.offcanvas", () => {
        document.body.style.overflow = ""; // Reset overflow property when sidebar is hidden
    });
});

document.addEventListener("DOMContentLoaded", () => {
    const timerDisplay = document.getElementById("timer"); // Timer element
    const timesUpModal = new bootstrap.Modal(document.getElementById("timesUpModal")); // Modal for Time's Up
    const timeLeftDisplay = document.getElementById("time-left"); // Countdown display inside modal-footer
    let totalSeconds = 2.0 * 60 * 60; //timer duration
    let countdownInterval; // Variable for countdown interval
    let countdownStarted = false;

    // Retrieve the enableTimer parameter from the URL
    const urlParams = new URLSearchParams(window.location.search);
    const enableTimer = urlParams.get('enableTimer');

    // Function to update the timer display
    function updateTimerDisplay() {
        const hours = Math.floor(totalSeconds / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;

        // Update the timer element
        timerDisplay.textContent = `${hours.toString().padStart(2, "0")}:${minutes
            .toString()
            .padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
    }

    // Function to trigger the red color and twinkle effect
    function triggerRedEffect() {
        timerDisplay.style.color = "red"; // Change the timer color to red
    }
    // Function to trigger the red color and twinkle effect
    function triggerRedTwinkleEffect() {
        timerDisplay.style.color = "red"; // Change the timer color to red
        timerDisplay.classList.add("twinkle"); // Add twinkle class
    }

    // Start the timer
    function startTimer() {
        const timerInterval = setInterval(() => {
            if (totalSeconds > 0) {
                totalSeconds--;
                updateTimerDisplay();
                if (totalSeconds === 900) {
                    triggerRedEffect();
                } else if (totalSeconds === 300) {
                    triggerRedTwinkleEffect();
                }
            } else {
                clearInterval(timerInterval); // Stop the timer
                timesUpModal.show(); // Show "Time's up" modal
                startCountdownBeforeSubmit(); // Start the countdown before submission
            }
        }, 1000); // Update every second
    }

    // Countdown logic for Time's Up modal
    function startCountdownBeforeSubmit() {
        let countdown = 5;
        timeLeftDisplay.textContent = `In ${countdown} seconds, your score will be calculated`;

        countdownInterval = setInterval(() => {
            countdown--;
            timeLeftDisplay.textContent = `In ${countdown} seconds, your score will be calculated`;

            if (countdown <= 0) {
                clearInterval(countdownInterval); // Clear interval
                submitButton.click(); // Automatically submit quiz after countdown
            }
        }, 1000);
    }
    // Check if timer should be enabled based on the URL parameter
    if (enableTimer === "1") {
        // Show the timer and start it if enabled
        timerDisplay.style.display = "block"; // Make the timer visible
        updateTimerDisplay(); // Update the timer display initially
        startTimer(); // Start the timer countdown
    } else {
        // Hide the timer if not enabled
        timerDisplay.style.display = "none"; // Hide the timer
        countdownStarted = false;
    }
});

//modal box to leave from the exam page
document.addEventListener("DOMContentLoaded", () => {
    const leavePageModal = new bootstrap.Modal(document.getElementById("leavePageModal"));
    const confirmLeaveButton = document.getElementById("confirmLeaveButton");

    // Event listener for nav links
    document.querySelectorAll("a[data-target-link]").forEach((link) => {
        link.addEventListener("click", (e) => {
            e.preventDefault(); // Prevent default navigation
            const targetLink = link.getAttribute("data-target-link"); // Get target link

            // Set the confirmation button's href
            confirmLeaveButton.setAttribute("href", targetLink);

            // Show the confirmation modal
            leavePageModal.show();
        });
    });
});







